{% comment %}
  Customer Registration Template
  Filename: templates/customers/register.liquid
  Used for: New customer registration
{% endcomment %}

<div class="container mx-auto px-4 py-12 md:py-16 max-w-md animate-fade-in">
  <div class="text-center mb-8">
    <h1 class="text-3xl md:text-4xl font-bold mb-2 font-poppins">{{ 'customer.register.title' | t }}</h1>
    <p class="text-gray-600">{{ 'customer.register.subtitle' | t }}</p>
  </div>

  <div class="bg-white rounded-lg shadow-md overflow-hidden">
    <div class="p-6">
      {% form 'create_customer', novalidate: 'novalidate' %}
        {%- if form.errors -%}
          <div class="mb-4 p-4 bg-red-50 border border-red-200 rounded-md text-red-700" role="alert">
            <h2 class="text-base font-medium">{{ 'customer.register.error' | t }}</h2>
            <ul class="list-disc list-inside mt-2 space-y-1">
              {%- for error in form.errors -%}
                <li>
                  {%- if error == 'form' -%}
                    {{ form.errors.messages[error] }}
                  {%- else -%}
                    {{ 'customer.register.' | append: error | t }} {{ form.errors.messages[error] }}
                  {%- endif -%}
                </li>
              {%- endfor -%}
            </ul>
          </div>
        {%- endif -%}

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
          <div>
            <label for="first_name" class="block text-sm font-medium text-gray-700 mb-1">{{ 'customer.register.first_name' | t }}</label>
            <input type="text" name="customer[first_name]" id="first_name" autocomplete="given-name" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-primary focus:border-primary" required>
          </div>
          <div>
            <label for="last_name" class="block text-sm font-medium text-gray-700 mb-1">{{ 'customer.register.last_name' | t }}</label>
            <input type="text" name="customer[last_name]" id="last_name" autocomplete="family-name" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-primary focus:border-primary" required>
          </div>
        </div>

        <div class="mb-4">
          <label for="email" class="block text-sm font-medium text-gray-700 mb-1">{{ 'customer.register.email' | t }}</label>
          <input type="email" name="customer[email]" id="email" autocomplete="email" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-primary focus:border-primary" required>
        </div>

        <div class="mb-4">
          <label for="password" class="block text-sm font-medium text-gray-700 mb-1">{{ 'customer.register.password' | t }}</label>
          <input type="password" name="customer[password]" id="password" autocomplete="new-password" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-primary focus:border-primary" required>
        </div>

        <div class="mb-6">
          <div class="flex items-center">
            <input id="marketing_consent" name="customer[accepts_marketing]" type="checkbox" class="h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded">
            <label for="marketing_consent" class="ml-2 block text-sm text-gray-600">{{ 'customer.register.marketing_consent' | t }}</label>
          </div>
        </div>

        <div>
          <button type="submit" class="w-full btn flex justify-center py-3 px-4 bg-primary hover:bg-primary-dark text-white font-medium rounded-md transition">
            {{ 'customer.register.submit' | t }}
          </button>
        </div>
      {% endform %}
      
      <div class="mt-4 text-center text-sm">
        <p>{{ 'customer.register.already_have_account' | t }} <a href="{{ routes.account_login_url }}" class="text-primary hover:underline">{{ 'customer.register.sign_in' | t }}</a></p>
      </div>
    </div>
  </div>
</div>
